[tool:pytest]
# Configuration pytest pour le projet

# Répertoires de tests
testpaths = tests

# Patterns de fichiers de tests
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Options par défaut
addopts = 
    --verbose
    --tb=short
    --strict-markers
    --disable-warnings
    --color=yes
    --durations=10
    --cov=.
    --cov-report=html
    --cov-report=term-missing
    --cov-fail-under=80

# Marqueurs personnalisés
markers =
    slow: marque les tests comme lents (désactivés par défaut)
    integration: tests d'intégration nécessitant une connexion réseau
    unit: tests unitaires rapides
    amazon: tests spécifiques à Amazon
    ebay: tests spécifiques à eBay
    walmart: tests spécifiques à Walmart
    etsy: tests spécifiques à Etsy
    shopify: tests spécifiques à Shopify
    price_tracking: tests du système de suivi des prix
    trend_analysis: tests de l'analyse des tendances
    data_processing: tests du traitement des données

# Configuration des warnings
filterwarnings =
    ignore::UserWarning
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Variables d'environnement pour les tests
env =
    TESTING = true
    LOG_LEVEL = ERROR
    USE_PROXY = false
    ENABLE_CACHE = false

# Timeout pour les tests (en secondes)
timeout = 300

# Configuration pour les tests asynchrones
asyncio_mode = auto

# Répertoires à ignorer
norecursedirs = 
    .git
    .tox
    dist
    build
    *.egg
    __pycache__
    .pytest_cache
    htmlcov